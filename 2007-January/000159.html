<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-HSS] problem with PUR
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-hss/2007-January/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-hss%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-HSS%5D%20problem%20with%20PUR&In-Reply-To=%3C45B0D89B.4090801%40fokus.fraunhofer.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000158.html">
   <LINK REL="Next"  HREF="000146.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-HSS] problem with PUR</H1>
    <B>Adrian-Daniel Popescu</B> 
    <A HREF="mailto:openimscore-hss%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-HSS%5D%20problem%20with%20PUR&In-Reply-To=%3C45B0D89B.4090801%40fokus.fraunhofer.de%3E"
       TITLE="[OpenIMSCore-HSS] problem with PUR">adrian-daniel.popescu at fokus.fraunhofer.de
       </A><BR>
    <I>Fri Jan 19 15:41:31 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000158.html">[OpenIMSCore-HSS] problem with PUR
</A></li>
        <LI>Next message: <A HREF="000146.html">[OpenIMSCore-HSS] Start FHoSS web admin on other port than 8080?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#159">[ date ]</a>
              <a href="thread.html#159">[ thread ]</a>
              <a href="subject.html#159">[ subject ]</a>
              <a href="author.html#159">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1


Hello Mona,

&gt;<i> What about the missing mandatory AVPs: Vendor-Specific-Application-Id and
</I>&gt;<i> Auth-Session-State, any plan on adding them the responses?
</I>
We already noticed the missing of these AVPs in our HSS implementation
and we are working to add them to the messages. In the upcoming days an
update for FHoSS will be available and all these small problems will be
solved in it.

Bye,
Adrian

Mona Hanna wrote:
&gt;<i> Hello Sven,
</I>&gt;<i> 
</I>&gt;<i> it worked finally, I had to update the xsd/ShDataType.xsd to define the 
</I>&gt;<i> sequence tag (TelephoneNumber in my example).
</I>&gt;<i> Just added:
</I>&gt;<i> &lt;xs:complexType name=&quot;TelephoneNumber&quot;&gt;
</I>&gt;<i>                 &lt;xs:sequence&gt;
</I>&gt;<i>                         &lt;xs:element name=&quot;msisdn&quot; type=&quot;xs:string&quot; 
</I>&gt;<i> maxOccurs=&quot;unbounded&quot;/&gt;
</I>&gt;<i>                 &lt;/xs:sequence&gt;
</I>&gt;<i> &lt;/xs:complesType&gt;
</I>&gt;<i> 
</I>&gt;<i> (Maybe another simple solution would have to modify the tServiceData into 
</I>&gt;<i> tString)
</I>&gt;<i> 
</I>&gt;<i> then:
</I>&gt;<i> ant gen
</I>&gt;<i> ant compile
</I>&gt;<i> ant deploy
</I>&gt;<i> 
</I>&gt;<i> ant the problem was solved.
</I>&gt;<i> 
</I>&gt;<i> I don't know how it worked for you, but modifying the xsd was inevitable.
</I>&gt;<i> 
</I>&gt;<i> What about the missing mandatory AVPs: Vendor-Specific-Application-Id and 
</I>&gt;<i> Auth-Session-State, any plan on adding them the responses?
</I>&gt;<i> 
</I>&gt;<i> Best Regards,
</I>&gt;<i> 
</I>&gt;<i> Mona
</I>&gt;<i> 
</I>&gt;<i> PS: I should have replied to the previous thread :-)
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ----- Original Message ----- 
</I>&gt;<i> From: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-hss">Sven.Bornemann at materna.de</A>&gt;
</I>&gt;<i> To: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-hss">mona.hanna at jinny.ie</A>&gt;
</I>&gt;<i> Cc: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-hss">openimscore-hss at lists.berlios.de</A>&gt;
</I>&gt;<i> Sent: Wednesday, January 17, 2007 2:37 PM
</I>&gt;<i> Subject: AW: [OpenIMSCore-HSS] problem with PUR
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i> Hi Mona!
</I>&gt;&gt;<i> I'm not sure, but you use XML (Telephonenumer tag) within XML (Sh-Data).
</I>&gt;&gt;<i> So I think you have to &quot;escape&quot; your data with a &quot;CDATA&quot; section.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Try &quot;&lt;![CDATA[&lt;TelephoneNumber&gt;123456789&lt;/TelephoneNumber&gt;]]&gt;&quot;
</I>&gt;&gt;<i> instead of &quot;&lt;TelephoneNumber&gt;123456789&lt;/TelephoneNumber&gt;&quot;.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Bye,
</I>&gt;&gt;<i> Sven
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> P.S.: It seems that you've replied to another thread instead
</I>&gt;&gt;<i> of beginning a new one ;-)
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> -----Urspr&#252;ngliche Nachricht-----
</I>&gt;&gt;&gt;<i> Von: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-hss">openimscore-hss-bounces at lists.berlios.de</A>
</I>&gt;&gt;&gt;<i> [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-hss">openimscore-hss-bounces at lists.berlios.de</A>]Im Auftrag von Mona
</I>&gt;&gt;&gt;<i> Hanna
</I>&gt;&gt;&gt;<i> Gesendet: Mittwoch, 17. Januar 2007 12:52
</I>&gt;&gt;&gt;<i> An: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-hss">openimscore-hss at lists.berlios.de</A>
</I>&gt;&gt;&gt;<i> Betreff: [OpenIMSCore-HSS] problem with PUR
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Hello,
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I am using the opensourceims to test the diameter Sh
</I>&gt;&gt;&gt;<i> interface with the HSS.
</I>&gt;&gt;&gt;<i> I am having some problems with the PUR request when trying to store a
</I>&gt;&gt;&gt;<i> RepositoryData (currently not set).
</I>&gt;&gt;&gt;<i> I checked the mailing list archive, and it seems that other
</I>&gt;&gt;&gt;<i> persons where
</I>&gt;&gt;&gt;<i> able to update/Delete the RepositoryData, so I am probably
</I>&gt;&gt;&gt;<i> doing something
</I>&gt;&gt;&gt;<i> wrong, any help is appreciated.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Below is the part of the output with the user data.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> DATA:
</I>&gt;&gt;&gt;<i> &lt;?xml version =&quot;1.0&quot;
</I>&gt;&gt;&gt;<i> encoding=&quot;UTF-8&quot;?&gt;&lt;Sh-Data&gt;&lt;RepositoryData&gt;&lt;ServiceIndication&gt;
</I>&gt;&gt;&gt;<i> XXXX&lt;/ServiceIndication&gt;&lt;SequenceNumber&gt;0&lt;/SequenceNumber&gt;&lt;Ser
</I>&gt;&gt;&gt;<i> viceData&gt;&lt;TelephoneNumber&gt;123456789&lt;/TelephoneNumber&gt;&lt;/Service
</I>&gt;&gt;&gt;<i> Data&gt;&lt;/RepositoryData&gt;&lt;/Sh-Data&gt;
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> [Thread-6] ERROR de.fhg.fokus.hss.diam.sh.PURCommandListener  -
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-hss">de.fhg.fokus.hss.diam.sh.PURCommandListener at 4693f9</A>
</I>&gt;&gt;&gt;<i> java.lang.NullPointerException
</I>&gt;&gt;&gt;<i>         at
</I>&gt;&gt;&gt;<i> org.exolab.castor.xml.util.SAX2ANY.createNodeElement(SAX2ANY.java:433)
</I>&gt;&gt;&gt;<i>         at
</I>&gt;&gt;&gt;<i> org.exolab.castor.xml.util.SAX2ANY.startElement(SAX2ANY.java:248)
</I>&gt;&gt;&gt;<i>         at
</I>&gt;&gt;&gt;<i> org.exolab.castor.xml.UnmarshalHandler.startElement(UnmarshalH
</I>&gt;&gt;&gt;<i> andler.java:1788)
</I>&gt;&gt;&gt;<i>         at
</I>&gt;&gt;&gt;<i> org.exolab.castor.xml.UnmarshalHandler.startElement(UnmarshalH
</I>&gt;&gt;&gt;<i> andler.java:1149)
</I>&gt;&gt;&gt;<i>         at
</I>&gt;&gt;&gt;<i> org.apache.xerces.parsers.AbstractSAXParser.startElement(Unknown
</I>&gt;&gt;&gt;<i> Source)
</I>&gt;&gt;&gt;<i>         at
</I>&gt;&gt;&gt;<i> org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanStartEleme
</I>&gt;&gt;&gt;<i> nt(Unknown
</I>&gt;&gt;&gt;<i> Source)
</I>&gt;&gt;&gt;<i>         at
</I>&gt;&gt;&gt;<i> org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$Fragment
</I>&gt;&gt;&gt;<i> ContentDispatcher.dispatch(Unknown
</I>&gt;&gt;&gt;<i> Source)
</I>&gt;&gt;&gt;<i>         at
</I>&gt;&gt;&gt;<i> org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocu
</I>&gt;&gt;&gt;<i> ment(Unknown
</I>&gt;&gt;&gt;<i> Source)
</I>&gt;&gt;&gt;<i>         at org.apache.xerces.parsers.XML11Configuration.parse(Unknown
</I>&gt;&gt;&gt;<i> Source)
</I>&gt;&gt;&gt;<i>         at
</I>&gt;&gt;&gt;<i> org.apache.xerces.parsers.DTDConfiguration.parse(Unknown Source)
</I>&gt;&gt;&gt;<i>         at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
</I>&gt;&gt;&gt;<i>         at
</I>&gt;&gt;&gt;<i> org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)
</I>&gt;&gt;&gt;<i>         at
</I>&gt;&gt;&gt;<i> org.exolab.castor.xml.Unmarshaller.unmarshal(Unmarshaller.java:583)
</I>&gt;&gt;&gt;<i>         at
</I>&gt;&gt;&gt;<i> org.exolab.castor.xml.Unmarshaller.unmarshal(Unmarshaller.java:491)
</I>&gt;&gt;&gt;<i>         at
</I>&gt;&gt;&gt;<i> org.exolab.castor.xml.Unmarshaller.unmarshal(Unmarshaller.java:669)
</I>&gt;&gt;&gt;<i>         at de.fhg.fokus.sh.data.ShData.unmarshal(ShData.java:108)
</I>&gt;&gt;&gt;<i>         at
</I>&gt;&gt;&gt;<i> de.fhg.fokus.hss.diam.sh.PURCommandListener.recvMessage(PURCom
</I>&gt;&gt;&gt;<i> mandListener.java:118)
</I>&gt;&gt;&gt;<i>         at
</I>&gt;&gt;&gt;<i> de.fhg.fokus.diameter.DiameterPeer.DiameterWorker.run(Diameter
</I>&gt;&gt;&gt;<i> Worker.java:100)
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> One of the possible reasons that I thought of, is the format of the
</I>&gt;&gt;&gt;<i> ServiceData. Is the
</I>&gt;&gt;&gt;<i> /opt/OpenIMSCore/openimscore/FHoSS/trunk/xsd/ShDataType.xsd
</I>&gt;&gt;&gt;<i> used for XML
</I>&gt;&gt;&gt;<i> validation?
</I>&gt;&gt;&gt;<i> If yes, should I need to define the ANY type for the
</I>&gt;&gt;&gt;<i> ServiceData in the
</I>&gt;&gt;&gt;<i> ShDataType.xsd?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> (I did a svn update to make sure that I am using the latest release)
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Another thing, I noticed that in all responses the mandatory AVPs:
</I>&gt;&gt;&gt;<i> Vendor-Specific-Application-Id and Auth-Session-State are
</I>&gt;&gt;&gt;<i> missing. Any
</I>&gt;&gt;&gt;<i> reason?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Thanks in advance,
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Mona
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> OpenIMSCore-HSS mailing list
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-hss">OpenIMSCore-HSS at lists.berlios.de</A>
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-hss">https://lists.berlios.de/mailman/listinfo/openimscore-hss</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> OpenIMSCore-HSS mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-hss">OpenIMSCore-HSS at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-hss">https://lists.berlios.de/mailman/listinfo/openimscore-hss</A>
</I>&gt;<i> 
</I>

- --
- --------------------------------------------
Diplomat Engineer Adrian Popescu
FOKUS Fraunhofer Institute
Next Generation Network Infrastructures
Kaiserin-Augusta-Alee 31, 10589, Berlin
Work Phone: +49 303 463 7364
Mobile: +49 178 153 7466
E-Mail: adp at fokus.fraunhofer.de
Web: www.fokus.fraunhofer.de
- --------------------------------------------
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.3 (GNU/Linux)
Comment: Using GnuPG with Mozilla - <A HREF="http://enigmail.mozdev.org">http://enigmail.mozdev.org</A>

iD8DBQFFsNia6Yml36HNIwcRAgQjAJ40Z31SFFjfX0l+V3t0AoAZEDamFACfZNTV
h3NYWhy9nihD2ykSytAiilI=
=QFGx
-----END PGP SIGNATURE-----

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000158.html">[OpenIMSCore-HSS] problem with PUR
</A></li>
	<LI>Next message: <A HREF="000146.html">[OpenIMSCore-HSS] Start FHoSS web admin on other port than 8080?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#159">[ date ]</a>
              <a href="thread.html#159">[ thread ]</a>
              <a href="subject.html#159">[ subject ]</a>
              <a href="author.html#159">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-hss">More information about the OpenIMSCore-HSS
mailing list</a><br>
</body></html>
