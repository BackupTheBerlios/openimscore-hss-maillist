<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-HSS] SIP REGISTER with AKAv1-MD5 auth with seagull
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-hss/2007-May/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-hss%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-HSS%5D%20SIP%20REGISTER%20with%20AKAv1-MD5%20auth%20with%20seagull&In-Reply-To=%3C4651CFCA.2040900%40fokus.fraunhofer.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000406.html">
   <LINK REL="Next"  HREF="000407.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-HSS] SIP REGISTER with AKAv1-MD5 auth with seagull</H1>
    <B>Adrian-Daniel Popescu</B> 
    <A HREF="mailto:openimscore-hss%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-HSS%5D%20SIP%20REGISTER%20with%20AKAv1-MD5%20auth%20with%20seagull&In-Reply-To=%3C4651CFCA.2040900%40fokus.fraunhofer.de%3E"
       TITLE="[OpenIMSCore-HSS] SIP REGISTER with AKAv1-MD5 auth with seagull">adrian-daniel.popescu at fokus.fraunhofer.de
       </A><BR>
    <I>Mon May 21 18:58:50 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000406.html">[OpenIMSCore-HSS] SIP REGISTER with AKAv1-MD5 auth with seagull
</A></li>
        <LI>Next message: <A HREF="000407.html">[OpenIMSCore-HSS] Implementing GUP(General User Profile) Rp	interface in FHoSS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#410">[ date ]</a>
              <a href="thread.html#410">[ thread ]</a>
              <a href="subject.html#410">[ subject ]</a>
              <a href="author.html#410">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1


Hi JF,

Are you sure that you provided the input information as it is set in the
HSS? I ask this because I tested with your input and I do not obtain the
same value with your client, nor the same with that provided by the
S-CSCF. I think that you missed to give us the right parameters, please
make another check and assure yourself that the Nonce, OP, AMF, Secret
Key,  Realm, URI are the right values (the same with those provided in
the HSS).

Another question, is the password provided in char or in hexa format?

- -Adrian

JF wrote:
&gt;<i> Meanwhile I detected that operator id and secret key were in the wrong
</I>&gt;<i> order in the external_data_client.csv file. Fixed it, but I still
</I>&gt;<i> can't authenticate.
</I>&gt;<i> 
</I>&gt;<i> JF
</I>&gt;<i> 
</I>&gt;<i> On 5/18/07, JF &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-hss">jfkavaka at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> Oh, I forgot to mention that in the HSS I have configured:
</I>&gt;&gt;<i> Secret Key: 9876543210FEDCBAABCDEF0123456789
</I>&gt;&gt;<i> AMF: 1234
</I>&gt;&gt;<i> Operator ID: ABCDEF0123456789ABCDEF0123456789
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> And I'm getting the external info for seagull scenario from the attached file.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> JF
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On 5/18/07, JF &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-hss">jfkavaka at gmail.com</A>&gt; wrote:
</I>&gt;&gt;&gt;<i> Hi,
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I've been trying to use seagull to register to the OpenIMSCore
</I>&gt;&gt;&gt;<i> authenticating with AKAv1-MD5 using the attached scenario, dictionary
</I>&gt;&gt;&gt;<i> and configuration, but the S-CSCF allways expects a different
</I>&gt;&gt;&gt;<i> response.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> From wireshark, the 401 Unauthorized message has the following:
</I>&gt;&gt;&gt;<i> WWW-Authenticate: Digest realm=&quot;open-ims.test&quot;,
</I>&gt;&gt;&gt;<i> nonce=&quot;Gn2RgKAcQCuEJx7hf9eSzFe+Dg8fNhI0imfgOlM7pkE=&quot;,
</I>&gt;&gt;&gt;<i> algorithm=AKAv1-MD5
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> From wireshark, the 2nd REGISTER has:
</I>&gt;&gt;&gt;<i> Authorization: Digest
</I>&gt;&gt;&gt;<i> username=&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-hss">alice at open-ims.test</A>&quot;,realm=&quot;open-ims.test&quot;,uri=&quot;sip:127.0.0.1:5061&quot;,nonce=&quot;Gn2RgKAcQCuEJx7hf9eSzFe+Dg8fNhI0imfgOlM7pkE=&quot;,response=&quot;81a09bce889532eb99fdc4bfacc27236&quot;,algorithm=AKAv1-MD5
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> And the S-CSCF says:
</I>&gt;&gt;&gt;<i> 4(15978) DBG:S-CSCF:S_is_authorized: UE said:
</I>&gt;&gt;&gt;<i> 81a09bce889532eb99fdc4bfacc27236 and we  expect
</I>&gt;&gt;&gt;<i> 3fe9cee9fa505e0011221d7e52f4e700 ha1 1a362af1a6b0cee27c2a9e807be862f3
</I>&gt;&gt;&gt;<i>  4(15978) DBG:S-CSCF:S_is_authorized: UE said:
</I>&gt;&gt;&gt;<i> 81a09bce889532eb99fdc4bfacc27236, but we have &#65533;&#65533;&#65533;]&#65533;&#65533; and expect
</I>&gt;&gt;&gt;<i> 3fe9cee9fa505e0011221d7e52f4e700
</I>&gt;&gt;&gt;<i>  4(15978) DBG:S-CSCF:S_challenge: Challenging the REGISTER...
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Any help is appreciated.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Joao Filipe Placido
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> OpenIMSCore-HSS mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-hss">OpenIMSCore-HSS at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-hss">https://lists.berlios.de/mailman/listinfo/openimscore-hss</A>
</I>

- --
- --------------------------------------------
Diploma Engineer Adrian Popescu
FOKUS Fraunhofer Institute
Next Generation Network Infrastructures
Kaiserin-Augusta-Allee 31, 10589, Berlin
Work Phone: +49 303 463 7364
Mobile: +49 178 153 7466
E-Mail: adp at fokus.fraunhofer.de
Web: www.fokus.fraunhofer.de
- --------------------------------------------
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.3 (GNU/Linux)
Comment: Using GnuPG with Mozilla - <A HREF="http://enigmail.mozdev.org">http://enigmail.mozdev.org</A>

iD8DBQFGUc/K6Yml36HNIwcRAia1AJ4yCR1g8RbkXyGRQJrkzwmbbUn3vQCcDijQ
Hxb1MKhtfeVDJr428RCtD7M=
=770j
-----END PGP SIGNATURE-----

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000406.html">[OpenIMSCore-HSS] SIP REGISTER with AKAv1-MD5 auth with seagull
</A></li>
	<LI>Next message: <A HREF="000407.html">[OpenIMSCore-HSS] Implementing GUP(General User Profile) Rp	interface in FHoSS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#410">[ date ]</a>
              <a href="thread.html#410">[ thread ]</a>
              <a href="subject.html#410">[ subject ]</a>
              <a href="author.html#410">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-hss">More information about the OpenIMSCore-HSS
mailing list</a><br>
</body></html>
