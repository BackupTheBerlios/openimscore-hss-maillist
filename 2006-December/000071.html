<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-HSS] JDBCE connection to HSS (hssdb)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-hss/2006-December/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-hss%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-HSS%5D%20JDBCE%20connection%20to%20HSS%20%28hssdb%29&In-Reply-To=%3C20061208180956.55149.qmail%40web39812.mail.mud.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000073.html">
   <LINK REL="Next"  HREF="000074.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-HSS] JDBCE connection to HSS (hssdb)</H1>
    <B>Kedar P Bhise</B> 
    <A HREF="mailto:openimscore-hss%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-HSS%5D%20JDBCE%20connection%20to%20HSS%20%28hssdb%29&In-Reply-To=%3C20061208180956.55149.qmail%40web39812.mail.mud.yahoo.com%3E"
       TITLE="[OpenIMSCore-HSS] JDBCE connection to HSS (hssdb)">kbhise_if at yahoo.com
       </A><BR>
    <I>Fri Dec  8 19:09:56 CET 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000073.html">[OpenIMSCore-HSS] JDBCE connection to HSS (hssdb)
</A></li>
        <LI>Next message: <A HREF="000074.html">[OpenIMSCore-HSS] FHoSS compilation errors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71">[ date ]</a>
              <a href="thread.html#71">[ thread ]</a>
              <a href="subject.html#71">[ subject ]</a>
              <a href="author.html#71">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Matevz,

Could you please confirm what version of mysql server are you running?

We have seen such a problem with mysql server 5.0.30, and clients using older libraries conforming to mysql 4.1.

Are you getting similar connection issues with your p/i/s-cscf as well?

Kedar P Bhise

----- Original Message ----
From: Matevz Mesojednik &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-hss">matevz.mesojednik at ltfe.org</A>&gt;
To: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-hss">weik at fokus.fraunhofer.de</A>; <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-hss">openimscore-hss at lists.berlios.de</A>
Sent: Friday, December 8, 2006 11:27:26 PM
Subject: Re: [OpenIMSCore-HSS] JDBCE connection to HSS (hssdb)

RE: [OpenIMSCore-HSS] JDBCE connection to HSS (hssdb)


 
 




Hi Peter and all!



Mysql section of &quot;hibernate.properties&quot; is pasted bellow:



##

hibernate.dialect=org.hibernate.dialect.MySQLDialect

hibernate.connection.driver_class=org.gjt.mm.mysql.Driver

hibernate.connection.driver_class=com.mysql.jdbc.Driver

hibernate.connection.url=jdbc:<A HREF="mysql://127.0.0.1:3306/hssdb">mysql://127.0.0.1:3306/hssdb</A>

hibernate.connection.username=hss

hibernate.connection.password=hss

hibernate.connection.isolation=4

##



We left &quot;hibernate.properties&quot; unchanged. Do we need to set privileges for account &quot;hss&quot; in mysql global configuration?



Mysql is on the same machine as other packages, so 127.0.0.1:3306 should be correct?



We've also tried &quot;GRANT ALL PRIVILEGES ON *.* TO 'hss'@'localhost' IDENTIFIED BY 'hss' WITH GRANT OPTION;&quot; in mysql concole ...



Is this the &quot;local setup&quot; you've mentioned in your last post?



Regards, Matevz







-----Original Message-----

From: Peter Weik [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-hss">weik at fokus.fraunhofer.de</A>]

Sent: Fri 12/8/2006 6:33 PM

To: Matevz Mesojednik

Cc: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-hss">openimscore-hss at lists.berlios.de</A>

Subject: RE: [OpenIMSCore-HSS] JDBCE connection to HSS (hssdb)



Hi Matevz,



did you check that the user, password and conncetion parameters in the

&quot;hibernate.properties&quot; file comply with your local setup ?



Regards,



Peter



On Fri, 2006-12-08 at 18:23 +0100, Matevz Mesojednik wrote:

&gt;<i> Hi, Peter and all
</I>
&gt;<i>
</I>
&gt;<i> Unfortunately webpage reload won't do any good ... we get the same
</I>
&gt;<i> error output in GUI window (also in hss process debug window).
</I>
&gt;<i>
</I>
&gt;<i> Both default imsu records (alice and bob) are present in the database,
</I>
&gt;<i> we've checked.
</I>
&gt;<i>
</I>
&gt;<i> We don't have any experience in java programminig, still I guess the
</I>
&gt;<i> problem sits somwhere near this line ...
</I>
&gt;<i>
</I>
&gt;<i> &quot;org.hibernate.exception.GenericJDBCException: Cannot open connection&quot;
</I>
&gt;<i>
</I>
&gt;<i> Is there any other way to check &quot;java based hss&quot; connectivity to mysql
</I>
&gt;<i> database?
</I>
&gt;<i>
</I>
&gt;<i> Regards, Matevz
</I>
&gt;<i>
</I>
&gt;<i>
</I>
&gt;<i> -----Original Message-----
</I>
&gt;<i> From: Peter Weik [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-hss">weik at fokus.fraunhofer.de</A>]
</I>
&gt;<i> Sent: Fri 12/8/2006 4:36 PM
</I>
&gt;<i> To: Matevz Mesojednik
</I>
&gt;<i> Cc: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-hss">openimscore-hss at lists.berlios.de</A>
</I>
&gt;<i> Subject: Re: [OpenIMSCore-HSS] JDBCE connection to HSS (hssdb)
</I>
&gt;<i>  
</I>
&gt;<i> Hi Matevz,
</I>
&gt;<i>
</I>
&gt;<i> we also experienced this error sometimes, but managed to get over it
</I>
&gt;<i> with some webpage re-loads (no real fix, I know). Are the IMSUs for
</I>
&gt;<i> Alice and Bob still in the DB ?
</I>
&gt;<i>
</I>
&gt;<i> Regards,
</I>
&gt;<i>
</I>
&gt;<i> Peter
</I>
&gt;<i>
</I>
&gt;<i> On Fri, 2006-12-08 at 15:50 +0100, Matevz Mesojednik wrote:
</I>
&gt;<i> &gt; Hi, all!
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;  
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt; FHoSS compiled successfully, now we'd like to provision our HSS
</I>
&gt;<i> (add
</I>
&gt;<i> &gt; new user/IMPI/IMPU for instance).
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;  
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt; We are trying to search the hssdb database  from browser (clicking
</I>
&gt;<i> &gt; Search button on IMS Subscribtion TAB for instance) via address
</I>
&gt;<i> &gt; <A HREF="http://localhost:8080/hss.web.console/index.jsp">http://localhost:8080/hss.web.console/index.jsp</A> , and we get error
</I>
&gt;<i> &gt; report pasted bellow.
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;  
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt; Looks like there is a problem connecting to mysql server via JDBCE?
</I>
&gt;<i> &gt; Mysql from console works OK, all specified databases are imported
</I>
&gt;<i> and
</I>
&gt;<i> &gt; ready to use. HSS configuration files are left default.
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;  
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt; Thank you in advance, really appretiate your help,
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;  
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt; Matevz
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;  
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;  
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt; org.hibernate.exception.GenericJDBCException: Cannot open
</I>
&gt;<i> connection
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at
</I>
&gt;<i> org.hibernate.exception.ErrorCodeConverter.handledNonSpecificException(ErrorCodeConverter.java:92)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at org.hibernate.exception.ErrorCodeConverter.convert
</I>
&gt;<i> &gt; (ErrorCodeConverter.java:80)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at
</I>
&gt;<i> org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:43)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at
</I>
&gt;<i> org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:29)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at org.hibernate.jdbc.ConnectionManager.openConnection
</I>
&gt;<i> &gt; (ConnectionManager.java:301)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at
</I>
&gt;<i> org.hibernate.jdbc.ConnectionManager.getConnection(ConnectionManager.java:110)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at
</I>
&gt;<i> org.hibernate.jdbc.AbstractBatcher.prepareQueryStatement(AbstractBatcher.java:88)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at org.hibernate.loader.Loader.prepareQueryStatement
</I>
&gt;<i> &gt; (Loader.java:1162)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at org.hibernate.loader.Loader.doQuery(Loader.java:390)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at
</I>
&gt;<i> org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:218)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at org.hibernate.loader.Loader.doList(Loader.java
</I>
&gt;<i> &gt; :1593)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at org.hibernate.loader.Loader.list(Loader.java:1577)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at
</I>
&gt;<i> org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:395)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at
</I>
&gt;<i> org.hibernate.hql.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:271)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at
</I>
&gt;<i> org.hibernate.impl.SessionImpl.list(SessionImpl.java:844)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at org.hibernate.impl.QueryImpl.list(QueryImpl.java:74)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at
</I>
&gt;<i> de.fhg.fokus.hss.action.ImpiSearchAction.execute(ImpiSearchAction.java:88)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at
</I>
&gt;<i> org.apache.struts.action.RequestProcessor.processActionPerform
</I>
&gt;<i> &gt; (RequestProcessor.java:419)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at
</I>
&gt;<i> org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:224)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at
</I>
&gt;<i> org.apache.struts.action.ActionServlet.process(ActionServlet.java:1194)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at org.apache.struts.action.ActionServlet.doPost
</I>
&gt;<i> &gt; (ActionServlet.java:432)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at
</I>
&gt;<i> javax.servlet.http.HttpServlet.service(HttpServlet.java:709)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at
</I>
&gt;<i> javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at
</I>
&gt;<i> org.apache.catalina.core.ApplicationFilterChain.internalDoFilter
</I>
&gt;<i> &gt; (ApplicationFilterChain.java:252)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at
</I>
&gt;<i> org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at
</I>
&gt;<i> org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at
</I>
&gt;<i> org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at
</I>
&gt;<i> org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at org.apache.catalina.core.StandardHostValve.invoke
</I>
&gt;<i> &gt; (StandardHostValve.java:126)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at
</I>
&gt;<i> org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at
</I>
&gt;<i> org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at org.apache.catalina.connector.CoyoteAdapter.service
</I>
&gt;<i> &gt; (CoyoteAdapter.java:148)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at
</I>
&gt;<i> org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:856)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at org.apache.coyote.http11.Http11Protocol
</I>
&gt;<i> $Http11ConnectionHandler.processConnection(Http11Protocol.java:744)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at
</I>
&gt;<i> org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:527)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at
</I>
&gt;<i> org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:80)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at org.apache.tomcat.util.threads.ThreadPool
</I>
&gt;<i> $ControlRunnable.run
</I>
&gt;<i> &gt; (ThreadPool.java:684)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at java.lang.Thread.run(Thread.java:595)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt; Caused by: java.sql.SQLException: Connections could not be acquired
</I>
&gt;<i> from the underlying database!
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at com.mchange.v2.sql.SqlUtils.toSQLException(SqlUtils.java
</I>
&gt;<i> &gt; :104)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at
</I>
&gt;<i> com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool.checkoutPooledConnection(C3P0PooledConnectionPool.java:264)
</I>
&gt;<i>
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at
</I>
&gt;<i> com.mchange.v2.c3p0.PoolBackedDataSource.getConnection(PoolBackedDataSource.java:94)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at 
</I>
&gt;<i> &gt;
</I>
&gt;<i> org.hibernate.connection.C3P0ConnectionProvider.getConnection(C3P0ConnectionProvider.java:35)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at
</I>
&gt;<i> org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:298)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         ... 33 more
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt; Caused by:
</I>
&gt;<i> com.mchange.v2.resourcepool.CannotAcquireResourceException
</I>
&gt;<i> &gt; : A ResourcePool could not acquire a resource from its primary
</I>
&gt;<i> factory or source.
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at
</I>
&gt;<i> com.mchange.v2.resourcepool.BasicResourcePool.awaitAcquire(BasicResourcePool.java:972)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at
</I>
&gt;<i> com.mchange.v2.resourcepool.BasicResourcePool.checkoutResource
</I>
&gt;<i> &gt; (BasicResourcePool.java:208)
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         at
</I>
&gt;<i> com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool.checkoutPooledConnection(C3P0PooledConnectionPool.java:260)
</I>
&gt;<i>
</I>
&gt;<i> &gt; 
</I>
&gt;<i> &gt;         ... 36 more
</I>







 
____________________________________________________________________________________
Yahoo! Music Unlimited
Access over 1 million songs.
<A HREF="http://music.yahoo.com/unlimited">http://music.yahoo.com/unlimited</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-hss/attachments/20061208/e5468880/attachment.html">https://lists.berlios.de/pipermail/openimscore-hss/attachments/20061208/e5468880/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000073.html">[OpenIMSCore-HSS] JDBCE connection to HSS (hssdb)
</A></li>
	<LI>Next message: <A HREF="000074.html">[OpenIMSCore-HSS] FHoSS compilation errors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#71">[ date ]</a>
              <a href="thread.html#71">[ thread ]</a>
              <a href="subject.html#71">[ subject ]</a>
              <a href="author.html#71">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-hss">More information about the OpenIMSCore-HSS
mailing list</a><br>
</body></html>
