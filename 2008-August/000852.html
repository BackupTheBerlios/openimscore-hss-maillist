<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-HSS] HSS to Diameter peer connection problem
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-hss/2008-August/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-hss%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-HSS%5D%20HSS%20to%20Diameter%20peer%20connection%20problem&In-Reply-To=%3C7DBE1924A24E8E4EA83356AB0B0C58DE037CBBCC%40STAEXCH1.STAFF.AIT.IE%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000851.html">
   <LINK REL="Next"  HREF="000853.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-HSS] HSS to Diameter peer connection problem</H1>
    <B>Eoghan Conway</B> 
    <A HREF="mailto:openimscore-hss%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-HSS%5D%20HSS%20to%20Diameter%20peer%20connection%20problem&In-Reply-To=%3C7DBE1924A24E8E4EA83356AB0B0C58DE037CBBCC%40STAEXCH1.STAFF.AIT.IE%3E"
       TITLE="[OpenIMSCore-HSS] HSS to Diameter peer connection problem">econway at AIT.IE
       </A><BR>
    <I>Mon Aug 18 11:51:46 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000851.html">[OpenIMSCore-HSS] Registration error: 401 User	UnauthorizedChallenging the UE
</A></li>
        <LI>Next message: <A HREF="000853.html">[OpenIMSCore-HSS] [OpenIMSCore-Users] FW: 2 origin host in UDR	request?!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#852">[ date ]</a>
              <a href="thread.html#852">[ thread ]</a>
              <a href="subject.html#852">[ subject ]</a>
              <a href="author.html#852">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Maybe it is just my slow PC, but if I don't give the DiameterPeer class enough time to initialise, say 2s instead of 5s, it means the difference between this:

[main] INFO  ie.imsarcs.javadiameterpeer.acceptancetest.SimpleUARTest  - SimpleUARTest Starting...
[main] DEBUG ie.imsarcs.javadiameterpeer.acceptancetest.SimpleUARTest  - Opening Client config file: SimpleUARTest.xml
[main] INFO  de.fhg.fokus.diameter.DiameterPeer.DiameterPeer  - FQDN: as1.open-ims.test
[main] INFO  de.fhg.fokus.diameter.DiameterPeer.DiameterPeer  - Realm: open-ims.test
[main] INFO  de.fhg.fokus.diameter.DiameterPeer.DiameterPeer  - Vendor_ID : 10415
[main] INFO  de.fhg.fokus.diameter.DiameterPeer.DiameterPeer  - Product Name: JavaDiameterPeer
[main] INFO  de.fhg.fokus.diameter.DiameterPeer.DiameterPeer  - AcceptUnknownPeers: true
[main] INFO  de.fhg.fokus.diameter.DiameterPeer.DiameterPeer  - DropUnknownOnDisconnect: true
[main] INFO  de.fhg.fokus.diameter.DiameterPeer.DiameterPeer  - DiameterPeer: Worker Threads started
[main] DEBUG de.fhg.fokus.diameter.DiameterPeer.peer.PeerManager  - PeerManager: Peer hss.open-ims.test:3868 added.
[Thread-8] DEBUG de.fhg.fokus.diameter.DiameterPeer.peer.PeerManager  - Connecting to peer hss.open-ims.test dynamic false dropping true
[main] DEBUG ie.imsarcs.javadiameterpeer.acceptancetest.SimpleUARTest  - SendBlocking timed-out, TEST FAILED
[main] DEBUG de.fhg.fokus.diameter.DiameterPeer.peer.StateMachine  - Diameter: Code=282 R AppID=0 HbHID=-1592548345 E2EID=992295574
 AVP: Code=264 M Len=17 Data=0x6173312e6f70656e2d696d732e74657374 INT_Data=1634939182 Char_Data=&quot;as1.open-ims.test&quot;
 AVP: Code=296 M Len=13 Data=0x6f70656e2d696d732e74657374 INT_Data=1869636974 Char_Data=&quot;open-ims.test&quot;
 AVP: Code=273 M Len=4 Data=0x00000000 INT_Data=0 Char_Data=&quot;....&quot;
 
and this:

[main] DEBUG ie.imsarcs.javadiameterpeer.acceptancetest.SimpleUARTest  - SimpleUARTest Finished

[main] INFO  ie.imsarcs.javadiameterpeer.acceptancetest.SimpleUARTest  - SimpleUARTest Starting...
[main] DEBUG ie.imsarcs.javadiameterpeer.acceptancetest.SimpleUARTest  - Opening Client config file: SimpleUARTest.xml
[main] INFO  de.fhg.fokus.diameter.DiameterPeer.DiameterPeer  - FQDN: as1.open-ims.test
[main] INFO  de.fhg.fokus.diameter.DiameterPeer.DiameterPeer  - Realm: open-ims.test
[main] INFO  de.fhg.fokus.diameter.DiameterPeer.DiameterPeer  - Vendor_ID : 10415
[main] INFO  de.fhg.fokus.diameter.DiameterPeer.DiameterPeer  - Product Name: JavaDiameterPeer
[main] INFO  de.fhg.fokus.diameter.DiameterPeer.DiameterPeer  - AcceptUnknownPeers: true
[main] INFO  de.fhg.fokus.diameter.DiameterPeer.DiameterPeer  - DropUnknownOnDisconnect: true
[main] INFO  de.fhg.fokus.diameter.DiameterPeer.DiameterPeer  - DiameterPeer: Worker Threads started
[main] DEBUG de.fhg.fokus.diameter.DiameterPeer.peer.PeerManager  - PeerManager: Peer hss.open-ims.test:3868 added.
[Thread-8] DEBUG de.fhg.fokus.diameter.DiameterPeer.peer.PeerManager  - Connecting to peer hss.open-ims.test dynamic false dropping true
[main] DEBUG ie.imsarcs.javadiameterpeer.acceptancetest.SimpleUARTest  - SendBlocking answered, TEST PASSED
Diameter: Code=300 P AppID=16777216 HbHID=-260203063 E2EID=1982393383
 AVP: Code=263 V M Len=43 V_ID=8 Data=0x746573742e6f70656e2d696d732e746573743b313132373132393839343931323139303531373830393231 INT_Data=1952805748 Char_Data=&quot;test.open-ims.test;112712989491219051780921&quot;
 AVP: Code=264 M Len=17 Data=0x6873732e6f70656e2d696d732e74657374 INT_Data=1752396590 Char_Data=&quot;hss.open-ims.test&quot;
 AVP: Code=296 M Len=13 Data=0x6f70656e2d696d732e74657374 INT_Data=1869636974 Char_Data=&quot;open-ims.test&quot;
 AVP: Code=277 M Len=4 Data=0x00000001 INT_Data=1 Char_Data=&quot;....&quot;
 AVP: Code=260 M Len=24 Data=0x0000010a4000000c000028af000001024000000c01000000 INT_Data=266 Char_Data=&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-hss">.... at .....</A>(<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-hss">..... at .......</A>&quot;
 AVP: Code=602 V M Len=28 V_ID=10415 Data=0x7369703a73637363662e6f70656e2d696d732e746573743a36303630 INT_Data=1936289850 Char_Data=&quot;sip:scscf.open-ims.test:6060&quot;
 AVP: Code=297 M Len=24 Data=0x0000010a4000000c000028af0000012a4000000c000007d2 INT_Data=266 Char_Data=&quot;<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-hss">.... at .....</A>(....*@.......&quot;

[main] DEBUG de.fhg.fokus.diameter.DiameterPeer.peer.StateMachine  - Diameter: Code=282 R AppID=0 HbHID=-260203062 E2EID=1982393384
 AVP: Code=264 M Len=17 Data=0x6173312e6f70656e2d696d732e74657374 INT_Data=1634939182 Char_Data=&quot;as1.open-ims.test&quot;
 AVP: Code=296 M Len=13 Data=0x6f70656e2d696d732e74657374 INT_Data=1869636974 Char_Data=&quot;open-ims.test&quot;
 AVP: Code=273 M Len=4 Data=0x00000000 INT_Data=0 Char_Data=&quot;....&quot;

[main] DEBUG ie.imsarcs.javadiameterpeer.acceptancetest.SimpleUARTest  - SimpleUARTest Finished

A quick fix is to increase the time between initialisation and calling a send() method.

 

_______________________________________________________________________
The information contained in this email is confidential and is designated solely for the attention of the intended recipient(s). If you have received this email in error, please do not use or transmit it for any purpose but rather notify us immediately and delete all copies of this email from your computer system(s). Unless otherwise specifically agreed by our authorised representative, the views expressed in this email are those of the author only and shall not represent the view of or otherwise bind Athlone Institute of Technology. Contact <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-hss">administrator at ait.ie</A> or telephone 090 6424400.


Please consider the environment before printing this e-mail or its attachment(s) 

______________________________________________________________________
This email has been scanned by the MessageLabs Email Security System.
For more information please visit <A HREF="http://www.messagelabs.com/email">http://www.messagelabs.com/email</A> 
______________________________________________________________________

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000851.html">[OpenIMSCore-HSS] Registration error: 401 User	UnauthorizedChallenging the UE
</A></li>
	<LI>Next message: <A HREF="000853.html">[OpenIMSCore-HSS] [OpenIMSCore-Users] FW: 2 origin host in UDR	request?!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#852">[ date ]</a>
              <a href="thread.html#852">[ thread ]</a>
              <a href="subject.html#852">[ subject ]</a>
              <a href="author.html#852">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-hss">More information about the OpenIMSCore-HSS
mailing list</a><br>
</body></html>
