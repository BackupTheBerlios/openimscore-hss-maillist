<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-HSS] Missing AVP: error code: 5005 - Whilesending	SNR from diameter client to HSS
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-hss/2007-April/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-hss%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-HSS%5D%20Missing%20AVP%3A%20error%20code%3A%205005%20-%20Whilesending%0A%09SNR%20from%20diameter%20client%20to%20HSS&In-Reply-To=%3C7A08D093BA1381489222A2C886DF77CE0610B215%40BLR-EC-MBX04.wipro.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000338.html">
   <LINK REL="Next"  HREF="000342.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-HSS] Missing AVP: error code: 5005 - Whilesending	SNR from diameter client to HSS</H1>
    <B>sheik.farid at wipro.com</B> 
    <A HREF="mailto:openimscore-hss%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-HSS%5D%20Missing%20AVP%3A%20error%20code%3A%205005%20-%20Whilesending%0A%09SNR%20from%20diameter%20client%20to%20HSS&In-Reply-To=%3C7A08D093BA1381489222A2C886DF77CE0610B215%40BLR-EC-MBX04.wipro.com%3E"
       TITLE="[OpenIMSCore-HSS] Missing AVP: error code: 5005 - Whilesending	SNR from diameter client to HSS">sheik.farid at wipro.com
       </A><BR>
    <I>Thu Apr 19 09:33:16 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000338.html">[OpenIMSCore-HSS] Missing AVP: error code: 5005 - While	sending	SNR from diameter client to HSS
</A></li>
        <LI>Next message: <A HREF="000342.html">[OpenIMSCore-HSS] Missing AVP: error code: 5005 -	Whilesending	SNR from diameter client to HSS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#340">[ date ]</a>
              <a href="thread.html#340">[ thread ]</a>
              <a href="subject.html#340">[ subject ]</a>
              <a href="author.html#340">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi,
   
   I am attaching message flow logs between Diameter Client and HSS. In which when I send an SNR message to HSS, I could find all the mandatory params like, 

  User identity, Origin Host, Origin Realm, Data reference, Subs Req type are all passed. But when i get a response the user identity is getting null and the result code set to 5005 along with origin host and realm set to correct values(HSS info).   

   I am unable to capture the diameter traffic using wireshark since I am using an xml file as an input to the diameter client and its throwing error as unable to read the XML file. But I have attached the logs of both elements. Pls suggest for going forward.


Sheik Farid


-----Original Message-----
From: Peter Weik [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-hss">weik at fokus.fraunhofer.de</A>]
Sent: Wed 4/18/2007 9:32 PM
To: Sheik Farid (WT01 - IP-Multimedia Carrier &amp; Ent Networks)
Subject: RE: [OpenIMSCore-HSS] Missing AVP: error code: 5005 - WhilesendingSNR from diameter client to HSS
 
Please filter the messages down to the two relevant ones and post to the
mailinglist as well.

Peter



-----Original Message-----
From: Peter Weik [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-hss">weik at fokus.fraunhofer.de</A>]
Sent: Wed 4/18/2007 8:02 PM
To: Sheik Farid (WT01 - IP-Multimedia Carrier &amp; Ent Networks)
Cc: <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-hss">openimscore-hss at lists.berlios.de</A>
Subject: Re: [OpenIMSCore-HSS] Missing AVP: error code: 5005 - Whilesending SNR from diameter client to HSS
 
Hello Sheik,

a Wireshark trace should help us to resolve the problem. Could you
please attach one for the Diameter traffic ?

Regards,

Peter

On Wed, 2007-04-18 at 19:45 +0530, <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-hss">sheik.farid at wipro.com</A> wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i>    I am getting Missing AVP:Error code:5005 when I send an SNR
</I>&gt;<i> (Subscribe Notification Request) message to HSS from a diameter
</I>&gt;<i> client(OpenDiameter).
</I>&gt;<i> 
</I>&gt;<i>    The error message as below:
</I>&gt;<i> 
</I>&gt;<i>    [Thread-6] WARN  de.fhg.fokus.hss.diam.sh.SNRCommandListener  -
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-hss">de.fhg.fokus.hss.diam.sh.SNRCommandListener at 538974</A>
</I>&gt;<i> de.fhg.fokus.sh.MissingAVP: errorcode: 5005
</I>&gt;<i>         at
</I>&gt;<i> de.fhg.fokus.hss.diam.sh.ShCommandListener.avpLookUp(ShCommandListener.java:156)
</I>&gt;<i>         at
</I>&gt;<i> de.fhg.fokus.hss.diam.sh.ShCommandListener.loadPublicIdentity(ShCommandListener.java:105)
</I>&gt;<i>         at
</I>&gt;<i> de.fhg.fokus.hss.diam.sh.SNRCommandListener.recvMessage(SNRCommandListener.java:111)
</I>&gt;<i>         at
</I>&gt;<i> de.fhg.fokus.diameter.DiameterPeer.DiameterWorker.run(DiameterWorker.java:100)
</I>&gt;<i> [Thread-7] WARN  de.fhg.fokus.hss.diam.sh.SNRCommandListener  -
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-hss">de.fhg.fokus.hss.diam.sh.SNRCommandListener at 538974</A>
</I>&gt;<i> de.fhg.fokus.sh.MissingAVP: errorcode: 5005
</I>&gt;<i>         at
</I>&gt;<i> de.fhg.fokus.hss.diam.sh.ShCommandListener.avpLookUp(ShCommandListener.java:156)
</I>&gt;<i>         at
</I>&gt;<i> de.fhg.fokus.hss.diam.sh.ShCommandListener.loadPublicIdentity(ShCommandListener.java:105)
</I>&gt;<i>         at
</I>&gt;<i> de.fhg.fokus.hss.diam.sh.SNRCommandListener.recvMessage(SNRCommandListener.java:111)
</I>&gt;<i>         at
</I>&gt;<i> de.fhg.fokus.diameter.DiameterPeer.DiameterWorker.run(DiameterWorker.java:100)
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>   I could not makeout why the public identity is failig because we are
</I>&gt;<i> sending the userIdentity as <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-hss">alice at open-ims.test</A> to the HSS which is
</I>&gt;<i> configured in the hssdb-&gt;impi table as well as the local table we have
</I>&gt;<i> in our product. But it is failing  at the avplookup itself. And Vendor
</I>&gt;<i> Id is set to 10415 in the diameter header.
</I>&gt;<i> 
</I>&gt;<i> Please suggest if I have missed any mandatory values.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Regards,
</I>&gt;<i> Sheik Farid
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> The information contained in this electronic message and any
</I>&gt;<i> attachments to this message are intended for the exclusive use of the
</I>&gt;<i> addressee(s) and may contain proprietary, confidential or privileged
</I>&gt;<i> information. If you are not the intended recipient, you should not
</I>&gt;<i> disseminate, distribute or copy this e-mail. Please notify the sender
</I>&gt;<i> immediately and destroy all copies of this message and any
</I>&gt;<i> attachments. 
</I>&gt;<i> 
</I>&gt;<i> WARNING: Computer viruses can be transmitted via email. The recipient
</I>&gt;<i> should check this email and any attachments for the presence of
</I>&gt;<i> viruses. The company accepts no liability for any damage caused by any
</I>&gt;<i> virus transmitted by this email.
</I>&gt;<i> 
</I>&gt;<i> www.wipro.com
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> OpenIMSCore-HSS mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-hss">OpenIMSCore-HSS at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openimscore-hss">https://lists.berlios.de/mailman/listinfo/openimscore-hss</A>
</I>




The information contained in this electronic message and any attachments to this message are intended for the exclusive use of the addressee(s) and may contain proprietary, confidential or privileged information. If you are not the intended recipient, you should not disseminate, distribute or copy this e-mail. Please notify the sender immediately and destroy all copies of this message and any attachments. 

WARNING: Computer viruses can be transmitted via email. The recipient should check this email and any attachments for the presence of viruses. The company accepts no liability for any damage caused by any virus transmitted by this email.
 
www.wipro.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-hss/attachments/20070419/f033fe7c/attachment.html">https://lists.berlios.de/pipermail/openimscore-hss/attachments/20070419/f033fe7c/attachment.html</A>&gt;
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: DiamClient.txt
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-hss/attachments/20070419/f033fe7c/attachment.txt">https://lists.berlios.de/pipermail/openimscore-hss/attachments/20070419/f033fe7c/attachment.txt</A>&gt;
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: HssStarup.txt
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-hss/attachments/20070419/f033fe7c/attachment-0001.txt">https://lists.berlios.de/pipermail/openimscore-hss/attachments/20070419/f033fe7c/attachment-0001.txt</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000338.html">[OpenIMSCore-HSS] Missing AVP: error code: 5005 - While	sending	SNR from diameter client to HSS
</A></li>
	<LI>Next message: <A HREF="000342.html">[OpenIMSCore-HSS] Missing AVP: error code: 5005 -	Whilesending	SNR from diameter client to HSS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#340">[ date ]</a>
              <a href="thread.html#340">[ thread ]</a>
              <a href="subject.html#340">[ subject ]</a>
              <a href="author.html#340">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-hss">More information about the OpenIMSCore-HSS
mailing list</a><br>
</body></html>
