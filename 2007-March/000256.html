<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenIMSCore-HSS] Exception at deleting iCF
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openimscore-hss/2007-March/index.html" >
   <LINK REL="made" HREF="mailto:openimscore-hss%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-HSS%5D%20Exception%20at%20deleting%20iCF&In-Reply-To=%3C000001c7680b%245d633460%240200a8c0%40notebookFE%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000255.html">
   <LINK REL="Next"  HREF="000257.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenIMSCore-HSS] Exception at deleting iCF</H1>
    <B>Franz Edler</B> 
    <A HREF="mailto:openimscore-hss%40lists.berlios.de?Subject=Re%3A%20%5BOpenIMSCore-HSS%5D%20Exception%20at%20deleting%20iCF&In-Reply-To=%3C000001c7680b%245d633460%240200a8c0%40notebookFE%3E"
       TITLE="[OpenIMSCore-HSS] Exception at deleting iCF">franz.edler at inode.at
       </A><BR>
    <I>Fri Mar 16 21:40:39 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000255.html">[OpenIMSCore-HSS] [SVN-FHoSS] r197 - Added DB Dump script.
</A></li>
        <LI>Next message: <A HREF="000257.html">[OpenIMSCore-HSS] Exception at deleting iCF
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#256">[ date ]</a>
              <a href="thread.html#256">[ thread ]</a>
              <a href="subject.html#256">[ subject ]</a>
              <a href="author.html#256">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

 

when I delete an iFC I always get the following exception:

 

de.fhg.fokus.hss.util.InfrastructureException:
org.hibernate.exception.ConstraintViolationException: Could not execute JDBC
batch update
        at
de.fhg.fokus.hss.util.HibernateUtil.commitTransaction(HibernateUtil.java:157
)
        at
de.fhg.fokus.hss.action.IfcDeleteAction.execute(IfcDeleteAction.java:90)
        at
org.apache.struts.action.RequestProcessor.processActionPerform(RequestProces
sor.java:419)
        at
org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:224)
        at
org.apache.struts.action.ActionServlet.process(ActionServlet.java:1194)
        at
org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:432)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:709)
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)
        at
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Application
FilterChain.java:252)
        at
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterCh
ain.java:173)
        at
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.ja
va:213)
        at
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.ja
va:178)
        at
org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase
.java:482)
        at
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126
)
        at
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105
)
        at
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java
:<i>107)
</I>        at
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)
        at
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:856)
        at
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConne
ction(Http11Protocol.java:744)
        at
org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.jav
a:527)
        at
org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWo
rkerThread.java:80)
        at
org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.jav
a:684)
        at java.lang.Thread.run(Thread.java:595)
Caused by: org.hibernate.exception.ConstraintViolationException: Could not
execute JDBC batch update
        at
org.hibernate.exception.ErrorCodeConverter.convert(ErrorCodeConverter.java:7
4)
        at
org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java
:<i>43)
</I>        at
org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:181)
        at
org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:226)
        at
org.hibernate.engine.ActionQueue.executeActions(ActionQueue.java:141)
        at
org.hibernate.event.def.AbstractFlushingEventListener.performExecutions(Abst
ractFlushingEventListener.java:274)
        at
org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventL
istener.java:27)
        at org.hibernate.impl.SessionImpl.flush(SessionImpl.java:730)
        at org.hibernate.impl.SessionImpl.managedFlush(SessionImpl.java:324)
        at
org.hibernate.transaction.JDBCTransaction.commit(JDBCTransaction.java:86)
        at
de.fhg.fokus.hss.util.HibernateUtil.commitTransaction(HibernateUtil.java:150
)
        ... 22 more
Caused by: java.sql.BatchUpdateException: Cannot delete or update a parent
row: a foreign key constraint fails
        at
com.mysql.jdbc.ServerPreparedStatement.executeBatch(ServerPreparedStatement.
java:647)
        at
com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.executeBatch(NewProxyPrep
aredStatement.java:1723)
        at
org.hibernate.jdbc.BatchingBatcher.doExecuteBatch(BatchingBatcher.java:57)
        at
org.hibernate.jdbc.AbstractBatcher.executeBatch(AbstractBatcher.java:174)
        ... 30 more

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openimscore-hss/attachments/20070316/526a6f06/attachment.html">https://lists.berlios.de/pipermail/openimscore-hss/attachments/20070316/526a6f06/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000255.html">[OpenIMSCore-HSS] [SVN-FHoSS] r197 - Added DB Dump script.
</A></li>
	<LI>Next message: <A HREF="000257.html">[OpenIMSCore-HSS] Exception at deleting iCF
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#256">[ date ]</a>
              <a href="thread.html#256">[ thread ]</a>
              <a href="subject.html#256">[ subject ]</a>
              <a href="author.html#256">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openimscore-hss">More information about the OpenIMSCore-HSS
mailing list</a><br>
</body></html>
